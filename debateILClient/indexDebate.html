<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Debate Arena - דיבייט חי</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            color: white;
            height: 100vh;
            overflow: hidden;
            direction: rtl;
        }

        /* בר עליון - מד התקדמות הדיבייט */
        .progress-bar {
            height: 60px;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-bottom: 3px solid #333;
        }

        .debate-progress {
            width: 80%;
            height: 20px;
            background: #333;
            border-radius: 25px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
            border-radius: 25px;
            width: 65%;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-indicator {
            position: absolute;
            right: 65%;
            top: -15px;
            background: #fff;
            color: #333;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            transform: translateX(50%);
        }

        /* אזור הדיבייטרים */
        .debate-area {
            display: flex;
            height: calc(100vh - 140px);
            position: relative;
        }

        .debater {
            width: 45%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        .debater.left {
            background: linear-gradient(45deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
            border-left: 3px solid #ff6b6b;
        }

        .debater.right {
            background: linear-gradient(45deg, rgba(69, 183, 209, 0.1), rgba(69, 183, 209, 0.05));
            border-right: 3px solid #45b7d1;
            direction: ltr;
        }

        .debater-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .left .debater-avatar {
            border-color: #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }

        .right .debater-avatar {
            border-color: #45b7d1;
            box-shadow: 0 0 30px rgba(69, 183, 209, 0.3);
        }

        .debater-avatar.speaking {
            transform: scale(1.1);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 30px rgba(255, 255, 255, 0.3); }
            50% { box-shadow: 0 0 50px rgba(255, 255, 255, 0.6); }
        }

        .debater-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .debater-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .debater-side {
            font-size: 16px;
            opacity: 0.8;
            margin-bottom: 20px;
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
        }

        /* בועת דיבור */
        .speech-bubble {
            position: absolute;
            max-width: 350px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 15px 20px;
            border-radius: 20px;
            font-size: 16px;
            line-height: 1.4;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0);
            transition: transform 0.3s ease;
            z-index: 10;
        }

        .speech-bubble.show {
            transform: scale(1);
        }

        .left .speech-bubble {
            top: 50%;
            left: 140px;
            transform-origin: left center;
        }

        .right .speech-bubble {
            top: 50%;
            right: 140px;
            transform-origin: right center;
            direction: rtl;
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.95);
            top: 50%;
            transform: rotate(45deg) translateY(-50%);
        }

        .left .speech-bubble::before {
            left: -10px;
        }

        .right .speech-bubble::before {
            right: -10px;
        }

        /* אזור הקהל */
        .audience-area {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 80px;
            background: rgba(0, 0, 0, 0.9);
            border-top: 2px solid #333;
        }

        .audience-grid {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            gap: 15px;
            padding: 0 20px;
        }

        .audience-member {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid #666;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .audience-member:hover {
            transform: scale(1.1);
            border-color: #fff;
        }

        .audience-member.voted-left {
            border-color: #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }

        .audience-member.voted-right {
            border-color: #45b7d1;
            box-shadow: 0 0 15px rgba(69, 183, 209, 0.5);
        }

        .audience-member img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* מד הצבעות */
        .voting-indicator {
            position: absolute;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .vote-count {
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            min-width: 100px;
            text-align: center;
        }

        .vote-count.left {
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        .vote-count.right {
            color: #45b7d1;
            border: 2px solid #45b7d1;
        }

        /* אזור מרכזי - נושא הדיבייט */
        .debate-topic {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 20px 30px;
            border-radius: 15px;
            border: 2px solid #4ecdc4;
            text-align: center;
            z-index: 5;
        }

        .debate-topic h2 {
            font-size: 24px;
            color: #4ecdc4;
            margin-bottom: 10px;
        }

        .debate-topic .timer {
            font-size: 18px;
            color: #fff;
        }

        /* אפקטים ואנימציות */
        .wave-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(78, 205, 196, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: wave 2s infinite;
        }

        @keyframes wave {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        /* חיווי תור */
        .turn-indicator {
            position: absolute;
            top: 20px;
            font-size: 18px;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 25px;
            background: rgba(0, 0, 0, 0.8);
        }

        .left .turn-indicator {
            right: 20px;
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        .right .turn-indicator {
            left: 20px;
            color: #45b7d1;
            border: 2px solid #45b7d1;
        }

        /* הודעות קהל */
        .audience-chat {
            position: absolute;
            top: 80px;
            right: 20px;
            width: 250px;
            height: 200px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 15px;
            overflow-y: auto;
            z-index: 15;
        }

        .chat-message {
            margin-bottom: 8px;
            padding: 5px 10px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            font-size: 12px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body>
    <!-- בר עליון -->
    <div class="progress-bar">
        <div class="debate-progress">
            <div class="progress-fill" id="progressFill">
                <div class="progress-indicator">עבודה מהמשרד מוביל</div>
            </div>
        </div>
    </div>

    <!-- אזור הדיבייט -->
    <div class="debate-area">
        <!-- דיבייטר שמאל -->
        <div class="debater left">
            <div class="turn-indicator" id="leftTurn" style="display: none;">התור שלך!</div>
            <div class="debater-avatar speaking" id="leftAvatar">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%23ff6b6b'/%3E%3Ccircle cx='35' cy='40' r='5' fill='white'/%3E%3Ccircle cx='65' cy='40' r='5' fill='white'/%3E%3Cpath d='M35 65 Q50 75 65 65' stroke='white' stroke-width='3' fill='none'/%3E%3C/svg%3E" alt="אלעד">
                <div class="wave-effect"></div>
            </div>
            <div class="debater-name">אלעד לסטר</div>
            <div class="debater-side">עבודה מהבית</div>
            <div class="speech-bubble show" id="leftBubble">
                "עבודה מהבית מאפשרת איזון טוב יותר בין עבודה לחיים! אין בזבוז זמן בנסיעות, יותר גמישות ופרודוקטיביות גבוהה יותר."
            </div>
        </div>

        <!-- דיבייטר ימין -->
        <div class="debater right">
            <div class="turn-indicator" id="rightTurn">התור שלך!</div>
            <div class="debater-avatar" id="rightAvatar">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%2345b7d1'/%3E%3Ccircle cx='35' cy='40' r='5' fill='white'/%3E%3Ccircle cx='65' cy='40' r='5' fill='white'/%3E%3Cpath d='M35 65 Q50 75 65 65' stroke='white' stroke-width='3' fill='none'/%3E%3C/svg%3E" alt="AI Assistant">
            </div>
            <div class="debater-name">AI Assistant</div>
            <div class="debater-side">עבודה מהמשרד</div>
            <div class="speech-bubble" id="rightBubble">
                ממתין לתגובה...
            </div>
        </div>
    </div>

    <!-- נושא הדיבייט -->
    <div class="debate-topic">
        <h2>עבודה מהבית VS עבודה מהמשרד</h2>
        <div class="timer" id="timer">זמן נותר: 02:34</div>
    </div>

    <!-- מד הצבעות -->
    <div class="voting-indicator">
        <div class="vote-count left" id="leftVotes">עבודה מהבית: 7</div>
        <div class="vote-count right" id="rightVotes">עבודה מהמשרד: 5</div>
    </div>

    <!-- אזור הקהל -->
    <div class="audience-area">
        <div class="audience-grid" id="audienceGrid">
            <!-- חברי קהל יווצרו דינמית -->
        </div>
    </div>

    <!-- צ'אט קהל -->
    <div class="audience-chat" id="audienceChat">
        <div class="chat-message">👤 משה: טיעון מעולה לעבודה מהבית!</div>
        <div class="chat-message">👤 רחל: אבל מה עם השיתופיות במשרד?</div>
        <div class="chat-message">👤 דני: הפרודוקטיביות באמת גבוהה יותר בבית</div>
    </div>

    <script>
        // נתונים גלובליים
        let currentTurn = 'right';
        let timeRemaining = 154; // 2:34
        let votes = { left: 7, right: 5 };
        let audienceMembers = [];

        // יצירת חברי קהל
        function createAudienceMembers() {
            const audienceGrid = document.getElementById('audienceGrid');
            const colors = ['#ff9999', '#99ccff', '#99ff99', '#ffcc99', '#cc99ff', '#ffff99'];
            
            for (let i = 0; i < 12; i++) {
                const member = document.createElement('div');
                member.className = 'audience-member';
                member.innerHTML = `<img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='${colors[i % colors.length]}'/%3E%3Ccircle cx='35' cy='40' r='4' fill='black'/%3E%3Ccircle cx='65' cy='40' r='4' fill='black'/%3E%3Cpath d='M35 60 Q50 70 65 60' stroke='black' stroke-width='2' fill='none'/%3E%3C/svg%3E" alt="קהל ${i+1}">`;
                
                member.addEventListener('click', () => voteMember(member, i));
                audienceGrid.appendChild(member);
                audienceMembers.push({ element: member, vote: null });
            }
        }

        // הצבעת חבר קהל
        function voteMember(member, index) {
            const currentVote = audienceMembers[index].vote;
            
            // ביטול הצבעה קודמת
            if (currentVote) {
                votes[currentVote]--;
                member.classList.remove(`voted-${currentVote}`);
            }
            
            // הצבעה חדשה (רנדומלית)
            const newVote = Math.random() > 0.5 ? 'left' : 'right';
            votes[newVote]++;
            member.classList.add(`voted-${newVote}`);
            audienceMembers[index].vote = newVote;
            
            updateVoteCounts();
            updateProgressBar();
        }

        // עדכון מונה הצבעות
        function updateVoteCounts() {
            document.getElementById('leftVotes').textContent = `עבודה מהבית: ${votes.left}`;
            document.getElementById('rightVotes').textContent = `עבודה מהמשרד: ${votes.right}`;
        }

        // עדכון בר התקדמות
        function updateProgressBar() {
            const totalVotes = votes.left + votes.right;
            if (totalVotes === 0) return;
            
            const leftPercentage = (votes.left / totalVotes) * 100;
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = `${leftPercentage}%`;
            
            const indicator = progressFill.querySelector('.progress-indicator');
            if (leftPercentage > 50) {
                indicator.textContent = 'עבודה מהבית מובילה';
                indicator.style.right = `${leftPercentage}%`;
            } else {
                indicator.textContent = 'עבודה מהמשרד מובילה';
                indicator.style.right = `${leftPercentage}%`;
            }
        }

        // טיימר
        function updateTimer() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timer').textContent = 
                `זמן נותר: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeRemaining > 0) {
                timeRemaining--;
            }
        }

        // החלפת תורות
        function switchTurns() {
            const leftTurn = document.getElementById('leftTurn');
            const rightTurn = document.getElementById('rightTurn');
            const leftAvatar = document.getElementById('leftAvatar');
            const rightAvatar = document.getElementById('rightAvatar');
            const leftBubble = document.getElementById('leftBubble');
            const rightBubble = document.getElementById('rightBubble');

            if (currentTurn === 'left') {
                currentTurn = 'right';
                leftTurn.style.display = 'none';
                rightTurn.style.display = 'block';
                leftAvatar.classList.remove('speaking');
                rightAvatar.classList.add('speaking');
                
                // AI מגיב
                setTimeout(() => {
                    rightBubble.textContent = '"עבודה במשרד מעודדת יצירתיות, שיתוף פעולה וקשרים אישיים! הפגישות פנים אל פנים יעילות יותר והתקשורת ברורה יותר."';
                    rightBubble.classList.add('show');
                    addChatMessage('👤 ליאור: AI עושה נקודה טובה על השיתופיות!');
                }, 2000);
                
            } else {
                currentTurn = 'left';
                rightTurn.style.display = 'none';
                leftTurn.style.display = 'block';
                rightAvatar.classList.remove('speaking');
                leftAvatar.classList.add('speaking');
                
                setTimeout(() => {
                    leftBubble.textContent = '"אבל עבודה מהבית חוסכת זמן נסיעות, מפחיתה עלויות ומאפשרת סביבת עבודה אישית ונוחה יותר. הפרודוקטיביות עולה משמעותית!"';
                    leftBubble.classList.add('show');
                    addChatMessage('👤 שירה: מסכימה! זמן הנסיעות הוא בזבוז מוחלט');
                }, 3000);
            }
        }

        // הוספת הודעה לצ'אט
        function addChatMessage(message) {
            const chat = document.getElementById('audienceChat');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message';
            messageDiv.textContent = message;
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
            
            // מחיקת הודעות ישנות
            if (chat.children.length > 8) {
                chat.removeChild(chat.firstChild);
            }
        }

        // הודעות קהל אוטומטיות
        const audienceMessages = [
            '👤 יובל: נקודה מעניינת!',
            '👤 מיכל: לא משכנע אותי...',
            '👤 אבי: מה דעתכם על ההיברידי?',
            '👤 תמר: סופר רלוונטי לתקופה!',
            '👤 רון: איך זה עובד עם ילדים קטנים?',
            '👤 נועה: המנהלים מה הם אומרים על זה?',
            '👤 דור: הטכנולוגיה תומכת בשני הכיוונים'
        ];

        function addRandomChatMessage() {
            const randomMessage = audienceMessages[Math.floor(Math.random() * audienceMessages.length)];
            addChatMessage(randomMessage);
        }

        // אתחול
        function init() {
            createAudienceMembers();
            updateVoteCounts();
            updateProgressBar();
            
            // טיימר
            setInterval(updateTimer, 1000);
            
            // החלפת תורות
            setInterval(switchTurns, 8000);
            
            // הודעות קהל
            setInterval(addRandomChatMessage, 4000);
            
            // הצבעות אוטומטיות של הקהל
            setInterval(() => {
                const unvoted = audienceMembers.filter(member => !member.vote);
                if (unvoted.length > 0) {
                    const randomMember = unvoted[Math.floor(Math.random() * unvoted.length)];
                    const index = audienceMembers.indexOf(randomMember);
                    voteMember(randomMember.element, index);
                }
            }, 3000);
        }

        // התחלה
        init();

        // קיצורי מקלדת
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === '1') {
                // הצבעה לעבודה מהבית
                votes.left++;
                updateVoteCounts();
                updateProgressBar();
                addChatMessage('👤 אתה הצבעת לעבודה מהבית!');
            } else if (e.ctrlKey && e.key === '2') {
                // הצבעה לעבודה מהמשרד
                votes.right++;
                updateVoteCounts();
                updateProgressBar();
                addChatMessage('👤 אתה הצבעת לעבודה מהמשרד!');
            }
        });

        // אפקט מיוחד על נושא הדיבייט
        let clickCount = 0;
        document.querySelector('.debate-topic').addEventListener('click', () => {
            clickCount++;
            if (clickCount >= 5) {
                document.body.style.background = 'linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7, #dda0dd)';
                document.body.style.backgroundSize = '400% 400%';
                document.body.style.animation = 'rainbow 2s ease infinite';
                clickCount = 0;
                
                setTimeout(() => {
                    document.body.style.background = 'linear-gradient(135deg, #1a1a2e, #16213e, #0f3460)';
                    document.body.style.animation = 'none';
                }, 3000);
            }
        });

        // CSS לאפקט הקשת
        const style = document.createElement('style');
        style.textContent = `
            @keyframes rainbow {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>