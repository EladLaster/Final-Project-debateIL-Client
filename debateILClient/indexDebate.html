<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Debate Arena -  </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            color: white;
            height: 100vh;
            overflow: hidden;
            direction: rtl;
        }

        /* 专 注 -  转拽转  */
        .progress-bar {
            height: 60px;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-bottom: 3px solid #333;
        }

        .debate-progress {
            width: 80%;
            height: 20px;
            background: #333;
            border-radius: 25px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
            border-radius: 25px;
            width: 65%;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-indicator {
            position: absolute;
            right: 65%;
            top: -15px;
            background: #fff;
            color: #333;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            transform: translateX(50%);
        }

        /* 专 专 */
        .debate-area {
            display: flex;
            height: calc(100vh - 140px);
            position: relative;
        }

        .debater {
            width: 45%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        .debater.left {
            background: linear-gradient(45deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
            border-left: 3px solid #ff6b6b;
        }

        .debater.right {
            background: linear-gradient(45deg, rgba(69, 183, 209, 0.1), rgba(69, 183, 209, 0.05));
            border-right: 3px solid #45b7d1;
            direction: ltr;
        }

        .debater-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .left .debater-avatar {
            border-color: #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }

        .right .debater-avatar {
            border-color: #45b7d1;
            box-shadow: 0 0 30px rgba(69, 183, 209, 0.3);
        }

        .debater-avatar.speaking {
            transform: scale(1.1);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 30px rgba(255, 255, 255, 0.3); }
            50% { box-shadow: 0 0 50px rgba(255, 255, 255, 0.6); }
        }

        .debater-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .debater-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .debater-side {
            font-size: 16px;
            opacity: 0.8;
            margin-bottom: 20px;
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
        }

        /* 注转 专 */
        .speech-bubble {
            position: absolute;
            max-width: 350px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 15px 20px;
            border-radius: 20px;
            font-size: 16px;
            line-height: 1.4;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0);
            transition: transform 0.3s ease;
            z-index: 10;
        }

        .speech-bubble.show {
            transform: scale(1);
        }

        .left .speech-bubble {
            top: 50%;
            left: 140px;
            transform-origin: left center;
        }

        .right .speech-bubble {
            top: 50%;
            right: 140px;
            transform-origin: right center;
            direction: rtl;
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.95);
            top: 50%;
            transform: rotate(45deg) translateY(-50%);
        }

        .left .speech-bubble::before {
            left: -10px;
        }

        .right .speech-bubble::before {
            right: -10px;
        }

        /* 专 拽 */
        .audience-area {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 80px;
            background: rgba(0, 0, 0, 0.9);
            border-top: 2px solid #333;
        }

        .audience-grid {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            gap: 15px;
            padding: 0 20px;
        }

        .audience-member {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid #666;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .audience-member:hover {
            transform: scale(1.1);
            border-color: #fff;
        }

        .audience-member.voted-left {
            border-color: #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }

        .audience-member.voted-right {
            border-color: #45b7d1;
            box-shadow: 0 0 15px rgba(69, 183, 209, 0.5);
        }

        .audience-member img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /*  爪注转 */
        .voting-indicator {
            position: absolute;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .vote-count {
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            min-width: 100px;
            text-align: center;
        }

        .vote-count.left {
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        .vote-count.right {
            color: #45b7d1;
            border: 2px solid #45b7d1;
        }

        /* 专 专 - 砖  */
        .debate-topic {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 20px 30px;
            border-radius: 15px;
            border: 2px solid #4ecdc4;
            text-align: center;
            z-index: 5;
        }

        .debate-topic h2 {
            font-size: 24px;
            color: #4ecdc4;
            margin-bottom: 10px;
        }

        .debate-topic .timer {
            font-size: 18px;
            color: #fff;
        }

        /* 驻拽 爪转 */
        .wave-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(78, 205, 196, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: wave 2s infinite;
        }

        @keyframes wave {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        /*  转专 */
        .turn-indicator {
            position: absolute;
            top: 20px;
            font-size: 18px;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 25px;
            background: rgba(0, 0, 0, 0.8);
        }

        .left .turn-indicator {
            right: 20px;
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        .right .turn-indicator {
            left: 20px;
            color: #45b7d1;
            border: 2px solid #45b7d1;
        }

        /* 注转 拽 */
        .audience-chat {
            position: absolute;
            top: 80px;
            right: 20px;
            width: 250px;
            height: 200px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 15px;
            overflow-y: auto;
            z-index: 15;
        }

        .chat-message {
            margin-bottom: 8px;
            padding: 5px 10px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            font-size: 12px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body>
    <!-- 专 注 -->
    <div class="progress-bar">
        <div class="debate-progress">
            <div class="progress-fill" id="progressFill">
                <div class="progress-indicator">注 砖专 </div>
            </div>
        </div>
    </div>

    <!-- 专  -->
    <div class="debate-area">
        <!-- 专 砖 -->
        <div class="debater left">
            <div class="turn-indicator" id="leftTurn" style="display: none;">转专 砖!</div>
            <div class="debater-avatar speaking" id="leftAvatar">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%23ff6b6b'/%3E%3Ccircle cx='35' cy='40' r='5' fill='white'/%3E%3Ccircle cx='65' cy='40' r='5' fill='white'/%3E%3Cpath d='M35 65 Q50 75 65 65' stroke='white' stroke-width='3' fill='none'/%3E%3C/svg%3E" alt="注">
                <div class="wave-effect"></div>
            </div>
            <div class="debater-name">注 住专</div>
            <div class="debater-side">注 转</div>
            <div class="speech-bubble show" id="leftBubble">
                "注 转 驻砖专转   转专  注 !    住注转, 转专 砖转 驻专拽转  转专."
            </div>
        </div>

        <!-- 专  -->
        <div class="debater right">
            <div class="turn-indicator" id="rightTurn">转专 砖!</div>
            <div class="debater-avatar" id="rightAvatar">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%2345b7d1'/%3E%3Ccircle cx='35' cy='40' r='5' fill='white'/%3E%3Ccircle cx='65' cy='40' r='5' fill='white'/%3E%3Cpath d='M35 65 Q50 75 65 65' stroke='white' stroke-width='3' fill='none'/%3E%3C/svg%3E" alt="AI Assistant">
            </div>
            <div class="debater-name">AI Assistant</div>
            <div class="debater-side">注 砖专</div>
            <div class="speech-bubble" id="rightBubble">
                转 转...
            </div>
        </div>
    </div>

    <!-- 砖  -->
    <div class="debate-topic">
        <h2>注 转 VS 注 砖专</h2>
        <div class="timer" id="timer"> 转专: 02:34</div>
    </div>

    <!--  爪注转 -->
    <div class="voting-indicator">
        <div class="vote-count left" id="leftVotes">注 转: 7</div>
        <div class="vote-count right" id="rightVotes">注 砖专: 5</div>
    </div>

    <!-- 专 拽 -->
    <div class="audience-area">
        <div class="audience-grid" id="audienceGrid">
            <!-- 专 拽 爪专 转 -->
        </div>
    </div>

    <!-- 爪' 拽 -->
    <div class="audience-chat" id="audienceChat">
        <div class="chat-message"> 砖: 注 注 注 转!</div>
        <div class="chat-message"> 专:   注 砖转驻转 砖专?</div>
        <div class="chat-message"> : 驻专拽转 转  转专 转</div>
    </div>

    <script>
        // 转 
        let currentTurn = 'right';
        let timeRemaining = 154; // 2:34
        let votes = { left: 7, right: 5 };
        let audienceMembers = [];

        // 爪专转 专 拽
        function createAudienceMembers() {
            const audienceGrid = document.getElementById('audienceGrid');
            const colors = ['#ff9999', '#99ccff', '#99ff99', '#ffcc99', '#cc99ff', '#ffff99'];
            
            for (let i = 0; i < 12; i++) {
                const member = document.createElement('div');
                member.className = 'audience-member';
                member.innerHTML = `<img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='${colors[i % colors.length]}'/%3E%3Ccircle cx='35' cy='40' r='4' fill='black'/%3E%3Ccircle cx='65' cy='40' r='4' fill='black'/%3E%3Cpath d='M35 60 Q50 70 65 60' stroke='black' stroke-width='2' fill='none'/%3E%3C/svg%3E" alt="拽 ${i+1}">`;
                
                member.addEventListener('click', () => voteMember(member, i));
                audienceGrid.appendChild(member);
                audienceMembers.push({ element: member, vote: null });
            }
        }

        // 爪注转 专 拽
        function voteMember(member, index) {
            const currentVote = audienceMembers[index].vote;
            
            //  爪注 拽转
            if (currentVote) {
                votes[currentVote]--;
                member.classList.remove(`voted-${currentVote}`);
            }
            
            // 爪注 砖 (专转)
            const newVote = Math.random() > 0.5 ? 'left' : 'right';
            votes[newVote]++;
            member.classList.add(`voted-${newVote}`);
            audienceMembers[index].vote = newVote;
            
            updateVoteCounts();
            updateProgressBar();
        }

        // 注  爪注转
        function updateVoteCounts() {
            document.getElementById('leftVotes').textContent = `注 转: ${votes.left}`;
            document.getElementById('rightVotes').textContent = `注 砖专: ${votes.right}`;
        }

        // 注 专 转拽转
        function updateProgressBar() {
            const totalVotes = votes.left + votes.right;
            if (totalVotes === 0) return;
            
            const leftPercentage = (votes.left / totalVotes) * 100;
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = `${leftPercentage}%`;
            
            const indicator = progressFill.querySelector('.progress-indicator');
            if (leftPercentage > 50) {
                indicator.textContent = '注 转 ';
                indicator.style.right = `${leftPercentage}%`;
            } else {
                indicator.textContent = '注 砖专 ';
                indicator.style.right = `${leftPercentage}%`;
            }
        }

        // 专
        function updateTimer() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timer').textContent = 
                ` 转专: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeRemaining > 0) {
                timeRemaining--;
            }
        }

        // 驻转 转专转
        function switchTurns() {
            const leftTurn = document.getElementById('leftTurn');
            const rightTurn = document.getElementById('rightTurn');
            const leftAvatar = document.getElementById('leftAvatar');
            const rightAvatar = document.getElementById('rightAvatar');
            const leftBubble = document.getElementById('leftBubble');
            const rightBubble = document.getElementById('rightBubble');

            if (currentTurn === 'left') {
                currentTurn = 'right';
                leftTurn.style.display = 'none';
                rightTurn.style.display = 'block';
                leftAvatar.classList.remove('speaking');
                rightAvatar.classList.add('speaking');
                
                // AI 
                setTimeout(() => {
                    rightBubble.textContent = '"注 砖专 注转 爪专转转, 砖转祝 驻注 拽砖专 砖! 驻砖转 驻  驻 注转 转专 转拽砖专转 专专 转专."';
                    rightBubble.classList.add('show');
                    addChatMessage(' 专: AI 注砖 拽  注 砖转驻转!');
                }, 2000);
                
            } else {
                currentTurn = 'left';
                rightTurn.style.display = 'none';
                leftTurn.style.display = 'block';
                rightAvatar.classList.remove('speaking');
                leftAvatar.classList.add('speaking');
                
                setTimeout(() => {
                    leftBubble.textContent = '" 注 转 住转  住注转, 驻转 注转 驻砖专转 住转 注 砖转  转专. 驻专拽转 注 砖注转转!"';
                    leftBubble.classList.add('show');
                    addChatMessage(' 砖专: 住!  住注转   ');
                }, 3000);
            }
        }

        // 住驻转 注 爪'
        function addChatMessage(message) {
            const chat = document.getElementById('audienceChat');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message';
            messageDiv.textContent = message;
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
            
            // 拽转 注转 砖转
            if (chat.children.length > 8) {
                chat.removeChild(chat.firstChild);
            }
        }

        // 注转 拽 转
        const audienceMessages = [
            ' : 拽 注转!',
            ' :  砖注 转...',
            ' :  注转 注 专?',
            ' 转专: 住驻专 专 转拽驻!',
            ' 专:   注 注  拽?',
            ' 注:    专 注 ?',
            ' 专:  转转 砖 '
        ];

        function addRandomChatMessage() {
            const randomMessage = audienceMessages[Math.floor(Math.random() * audienceMessages.length)];
            addChatMessage(randomMessage);
        }

        // 转
        function init() {
            createAudienceMembers();
            updateVoteCounts();
            updateProgressBar();
            
            // 专
            setInterval(updateTimer, 1000);
            
            // 驻转 转专转
            setInterval(switchTurns, 8000);
            
            // 注转 拽
            setInterval(addRandomChatMessage, 4000);
            
            // 爪注转 转 砖 拽
            setInterval(() => {
                const unvoted = audienceMembers.filter(member => !member.vote);
                if (unvoted.length > 0) {
                    const randomMember = unvoted[Math.floor(Math.random() * unvoted.length)];
                    const index = audienceMembers.indexOf(randomMember);
                    voteMember(randomMember.element, index);
                }
            }, 3000);
        }

        // 转
        init();

        // 拽爪专 拽转
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === '1') {
                // 爪注 注 转
                votes.left++;
                updateVoteCounts();
                updateProgressBar();
                addChatMessage(' 转 爪注转 注 转!');
            } else if (e.ctrlKey && e.key === '2') {
                // 爪注 注 砖专
                votes.right++;
                updateVoteCounts();
                updateProgressBar();
                addChatMessage(' 转 爪注转 注 砖专!');
            }
        });

        // 驻拽  注 砖 
        let clickCount = 0;
        document.querySelector('.debate-topic').addEventListener('click', () => {
            clickCount++;
            if (clickCount >= 5) {
                document.body.style.background = 'linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7, #dda0dd)';
                document.body.style.backgroundSize = '400% 400%';
                document.body.style.animation = 'rainbow 2s ease infinite';
                clickCount = 0;
                
                setTimeout(() => {
                    document.body.style.background = 'linear-gradient(135deg, #1a1a2e, #16213e, #0f3460)';
                    document.body.style.animation = 'none';
                }, 3000);
            }
        });

        // CSS 驻拽 拽砖转
        const style = document.createElement('style');
        style.textContent = `
            @keyframes rainbow {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>